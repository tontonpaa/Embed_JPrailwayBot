# 🛜Discord Bot：全日本全線運行状況報告Bot

### 📋目次
- [🤖基本情報](#基本情報)
- [‼️仕様説明](#仕様説明)
- [📄ライセンス](#ライセンス)
- [🔗関連リンク(整備中)](#関連リンク)

---

## 🤖基本情報
- **プロジェクト名**: Discord Bot：全日本全線運行状況報告Bot
- **概要**: Discord任意のサーバー内チャンネル上で日本全国の鉄道路線の運行状況を報告するBot
- **対応プラットフォーム**: Discord
<br><br>
- **開発環境**: Win11, VSCode, Docker
- **開発言語**: Python (3.12.9-slim-bookworm)
- **主要ライブラリ**: discord.py, requests, BeautifulSoup4
- **ホスティングサーバー**: NorthFlank (無料プラン)
- **データソース**: Yahoo!路線情報 (https://transit.yahoo.co.jp/diainfo/)<br>
※diainfoの後に/area/n/が入り、nは地方コード
<br><br>
- **開発者**: tontonpaa
- **バージョン**: 1.4.0くらい？
- **最終更新日**: メインコードは2025年7月くらい, README.mdドキュメントは2025年11月

---

## ‼️仕様説明
※Webスクレイピングを用いているため、対象サイトの構造変更等により動作しなくなる可能性があります。
<br><br>
### 機能一覧
- 指定した鉄道路線の運行状況を取得し、30分毎にDiscordチャンネルに報告（30分毎なのはレート制限のため）
- チャンネル名に"運行情報"が含まれるチャンネルを自動検出して報告先とする
※たまにエラーが出ます。その場合エラーコードがDiscordチャンネルに投稿されます。
<br><br>
### 動作概要
1. BotがDiscordサーバーに接続
2. 指定された鉄道路線の運行状況をYahoo!路線情報から取得
3. 取得した情報を解析し、運行状況を埋め込みメッセージ形式に整形（埋め込みのフィールドをたくさん使っています）
4. "運行情報"が名前に含まれるチャンネルを検索し、見つかったチャンネルに運行状況を投稿
5. 30分毎に2-4を繰り返し

---

## 📄ライセンス
tontonpaaライセンスで使用可能です。
LICENSEファイルは作ってませんが、要は「自由に使ってね。ただし自己責任で」って感じです。

---

## 🔗関連リンク
整備中